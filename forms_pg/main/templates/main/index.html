{% extends "main/base.html" %}

{% block title %}FORMS{% endblock title %}

{% block body %}
    <div class="container mx-auto">
        <div class="flex">

            <div class="flex-1 p-3 border-r border-outline dark:border-outline-dark">
                <form action="." method="POST">
                    {% csrf_token %}
                    {{ form }}
                    <button type="submit" value="submit">Подтвердить</button>
                </form>
            </div>

            <div class="flex-1 p-3">
                <form action="." method="POST">
                    {% csrf_token %}
                    {% for error in form.non_field_errors %}
                        <div>{{ error }}</div>
                    {% endfor %}
                    {% for field in form.visible_fields %}
                        <div class="flex flex-col">
                            <label for="{{ field.id_for_label }}">{{ field.label }}{% if field.field.required %}*{% endif %}{{ form.label_suffix }}</label>
                            <div id="{{ field.id_for_label }}_helptext">{{ field.help_text }}</div>
                            <div id="{{ field.id_for_label }}_error">
                                {% for error in field.errors %}
                                    <div>{{ error }}</div>
                                {% endfor %}   
                            </div>
                            <div>{{ field.as_widget }}</div>
                        </div>
                    {% endfor %}
                    {% for field in form.hidden_fields %}
                        {{ field.as_widget }}
                    {% endfor %}
                    <button type="submit" value="submit">Подтвердить</button>
                </form>
            </div>

        </div>
        <hr>

        {% load form_tags %}

        {% with form=my_form %}
        <form>
            <div style="max-width: 500px;" class="mx-auto my-5 p-5 space-y-3 border rounded-2xl border-outline dark:border-outline-dark bg-surface-alt dark:bg-surface-dark-alt">
                <div>
                    {% csrf_token %}
                    {% for field in form.visible_fields %}
                        <div class="mt-3">

                            {% if field.field.widget|klass == 'CheckboxInput' %}
                                <label for="{{ field.id_for_label }}" class="flex items-center gap-2 text-sm font-medium text-on-surface dark:text-on-surface-dark
                                  has-checked:text-on-surface-strong dark:has-checked:text-on-surface-dark-strong has-disabled:cursor-not-allowed has-disabled:opacity-75">
                                    <span class="relative flex items-center">
                                        {{ field|add_class:"before:content[''] peer relative size-4 appearance-none overflow-hidden rounded-sm border border-outline bg-surface-alt before:absolute before:inset-0 checked:border-primary checked:before:bg-primary focus:outline-2 focus:outline-offset-2 focus:outline-outline-strong checked:focus:outline-primary active:outline-offset-0 disabled:cursor-not-allowed dark:border-outline-dark dark:bg-surface-dark-alt dark:checked:border-primary-dark dark:checked:before:bg-primary-dark dark:focus:outline-outline-dark-strong dark:checked:focus:outline-primary-dark" }}
                                        {% comment %} <input id="{{ field.id }}" type="checkbox" class="before:content[''] peer relative size-4 appearance-none overflow-hidden rounded-sm border border-outline bg-surface-alt before:absolute before:inset-0 checked:border-primary checked:before:bg-primary focus:outline-2 focus:outline-offset-2 focus:outline-outline-strong checked:focus:outline-primary active:outline-offset-0 disabled:cursor-not-allowed dark:border-outline-dark dark:bg-surface-dark-alt dark:checked:border-primary-dark dark:checked:before:bg-primary-dark dark:focus:outline-outline-dark-strong dark:checked:focus:outline-primary-dark" checked/> {% endcomment %}
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" stroke="currentColor" fill="none" stroke-width="4" class="pointer-events-none invisible absolute left-1/2 top-1/2 size-3 -translate-x-1/2 -translate-y-1/2 text-on-primary peer-checked:visible dark:text-on-primary-dark">
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5"/>
                                        </svg>
                                    </span>
                                    <span>{{ field.label }} ({{ field.field.widget|klass }})</span>
                                </label>

                            {% elif field.field.widget|klass == 'RadioSelect' %}
                                <fieldset>
                                    <legend class="block font-medium text-on-surface dark:text-on-surface-dark">
                                        {{ field.label }}{% if field.field.required %}*{% endif %}
                                        ({{ field.field.widget|klass }})
                                    </legend>
                                    {% for radio in field %}
                                        <div class="flex items-center justify-start gap-2 font-medium text-on-surface has-disabled:opacity-75 dark:text-on-surface-dark">
                                            <input id="{{ radio.id_for_label }}" type="radio" class="before:content[''] relative h-4 w-4 appearance-none rounded-full border border-outline bg-surface-alt before:invisible before:absolute before:left-1/2 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-x-1/2 before:-translate-y-1/2 before:rounded-full before:bg-on-primary checked:border-primary checked:bg-primary checked:before:visible focus:outline-2 focus:outline-offset-2 focus:outline-outline-strong checked:focus:outline-primary disabled:cursor-not-allowed dark:border-outline-dark dark:bg-surface-dark-alt dark:before:bg-on-primary-dark dark:checked:border-primary-dark dark:checked:bg-primary-dark dark:focus:outline-outline-dark-strong dark:checked:focus:outline-primary-dark" name="{{ field.id_for_label }}" value="" >
                                            <label for="{{ radio.id_for_label }}" class="">{{ radio.choice_label }} ({{ radio|klass }})</label>
                                        </div>
                                    {% endfor %}
                                </fieldset>

                            {% else %}
                                <label for="{{ field.id_for_label }}" class="block font-medium text-on-surface dark:text-on-surface-dark">
                                    {{ field.label }}{% if field.field.required %}*{% endif %}{% comment %} {{ form.label_suffix }} {% endcomment %}
                                    ({{ field.field.widget|klass }})
                                </label>
                                <div>{{ field.as_widget }}</div>
                            {% endif %}

                            {% if field.errors %}
                                <div class="px-1 text-sm text-on-danger bg-danger/50">
                                    {% for error in field.errors %}
                                        <p>{{ error }}</p>
                                    {% endfor %}
                                </div>
                            {% endif %}

                            {% if field.help_text %}
                                <p id="{{ field.id_for_label }}_helptext" class="text-sm text-on-surface/50 dark:text-on-surface-dark/50">{{ field.help_text }}</p>
                            {% endif %}

                        </div>
                    {% endfor %} 
                    {% for field in form.hidden_fields %}
                        {{ field.as_widget }}
                    {% endfor %}
                </div>
                <button type="button" class="whitespace-nowrap rounded-radius bg-primary border border-primary px-4 py-2 text-sm font-medium tracking-wide text-on-primary transition hover:opacity-75 text-center focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary active:opacity-100 active:outline-offset-0 disabled:opacity-75 disabled:cursor-not-allowed dark:bg-primary-dark dark:border-primary-dark dark:text-on-primary-dark dark:focus-visible:outline-primary-dark">Primary</button>
            </div>
        </form>
        {% endwith %}

    </div>
{% endblock body %}